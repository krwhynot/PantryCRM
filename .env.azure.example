# ============================================================================
# Azure SQL Database Configuration for Kitchen Pantry CRM
# Optimized for Azure Basic Tier ($5/month) with connection pooling
# ============================================================================

# Azure SQL Database URL with optimized connection pooling
# Connection parameters explanation:
# - connection_limit=3: Reduced for Azure Basic tier (5 DTU limit)
# - pool_timeout=15: Extended timeout for Basic tier query processing  
# - connect_timeout=30: Adequate time for Azure SQL connection establishment
# - encrypt=true: Required for Azure SQL security
# - trustServerCertificate=false: Validate Azure SSL certificates

DATABASE_URL="sqlserver://your-server.database.windows.net:1433;database=pantrycrm;user=crmadmin;password=your-secure-password;encrypt=true;trustServerCertificate=false;connection_limit=3&pool_timeout=15&connect_timeout=30"

# Azure SQL Server Details (for reference)
AZURE_SQL_SERVER=your-server.database.windows.net
AZURE_SQL_DATABASE=pantrycrm
AZURE_SQL_USERNAME=crmadmin
AZURE_SQL_PASSWORD=your-secure-password

# Application Configuration
NEXTAUTH_URL=https://your-app.azurewebsites.net
NEXTAUTH_SECRET=your-production-secret-here

# Environment
NODE_ENV=production
NEXT_PUBLIC_APP_ENV=production

# Performance Settings for Azure Basic Tier
NEXT_PUBLIC_SEARCH_DELAY_MS=300
NEXT_PUBLIC_AUTOCOMPLETE_MIN_CHARS=2

# Monitoring and Logging
ENABLE_QUERY_LOGGING=false  # Disable in production for performance
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================================
# Additional Azure Services (if needed)
# ============================================================================

# Azure Blob Storage (for file uploads)
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
AZURE_STORAGE_CONTAINER_NAME=crm-documents

# Azure Communication Services (for email)
AZURE_COMMUNICATION_CONNECTION_STRING=your-communication-connection-string